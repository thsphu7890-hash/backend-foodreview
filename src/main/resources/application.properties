spring.application.name=foodreview
server.port=8080

# --- Database ---
# ==============================================================
# CẤU HÌNH DATABASE (Ghép từ các biến môi trường DB_HOST, DB_PORT...)
# ==============================================================

# Cấu trúc: jdbc:mysql://${HOST}:${PORT}/${DB_NAME}
# Nếu không tìm thấy biến môi trường (chạy local) thì dùng giá trị sau dấu : (localhost, 3306...)
spring.datasource.url=jdbc:mysql://${DB_HOST:localhost}:${DB_PORT:3306}/${DB_NAME:food_review}?useSSL=false&serverTimezone=Asia/Ho_Chi_Minh&characterEncoding=UTF-8&allowPublicKeyRetrieval=true

# Tên đăng nhập và Mật khẩu
spring.datasource.username=${DB_USER:root}
spring.datasource.password=${DB_PASS:}

spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# Bắt buộc có dòng này để tránh lỗi "Unable to determine Dialect"
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect
spring.jpa.properties.hibernate.globally_quoted_identifiers=true
# Các cấu hình khác giữ nguyên...
spring.jpa.hibernate.ddl-auto=create
spring.jpa.show-sql=true

# --- AI Configuration (Key Mới) ---
gemini.api-key=AIzaSyCq7GAEZ7nmOAx9uuLyGRu1X3tk_pCkTkk
gemini.model-name=gemini-1.5-flash-001

# Nếu dòng trên vẫn lỗi, hãy thử dòng dự phòng này (mạnh hơn nhưng chậm hơn chút):
# gemini.model-name=gemini-1.5-pro-001
# LangChain4j không tự động dùng dòng này, nhưng cứ để đó cũng không sao
spring.ai.retry.max-attempts=1
# Sửa lỗi Warning "Serializing PageImpl instances"
spring.data.web.pageable.serialization-mode=via-dto

# --- Cấu hình Session Cookie ---
# --- Cấu hình Cookie để chạy được trên localhost khác port ---
# ===============================
# CẤU HÌNH JWT (Bắt buộc phải có)
# ===============================
# Chuỗi bí mật này dùng để ký Token (đã tạo random 256-bit)
jwt.secret-key=404E635266556A586E3272357538782F413F4428472B4B6250645367566B5970

# Thời gian hết hạn của Token (tính bằng mili-giây)
# Ví dụ: 86400000 ms = 24 giờ
jwt.expiration=86400000